(()=>{var t={278:(t,e,i)=>{"use strict";var n;i.d(e,{Z:()=>m});var s=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(s)}const r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,l=function(t){return"string"==typeof t&&r.test(t)};for(var a=[],d=0;d<256;++d)a.push((d+256).toString(16).substr(1));const h=function(t,e,i){var n=(t=t||{}).random||(t.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){i=i||0;for(var s=0;s<16;++s)e[i+s]=n[s];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(a[t[e+0]]+a[t[e+1]]+a[t[e+2]]+a[t[e+3]]+"-"+a[t[e+4]]+a[t[e+5]]+"-"+a[t[e+6]]+a[t[e+7]]+"-"+a[t[e+8]]+a[t[e+9]]+"-"+a[t[e+10]]+a[t[e+11]]+a[t[e+12]]+a[t[e+13]]+a[t[e+14]]+a[t[e+15]]).toLowerCase();if(!l(i))throw TypeError("Stringified UUID is invalid");return i}(n)};class c{constructor(){this.overlay=null,this.dom=null,this.initDom=null,this.originRect={},this.init=!0,this.overlayId=h(),this.overlayStyle="background-color: rgba(229, 231, 235, .9); position: fixed; top: -100%; left: 0; bottom: -100%; right: 0; opacity: .9; z-index: 66;cursor:pointer;"}initPreview(t,e){this.initDom=t,this.dom=t,this.init=!0;const i=t.dataset;this.originRect=t.getBoundingClientRect(),this.items=this.getItems(e),this.items.length<2?this.hasItems=!1:this.hasItems=!0;let n=0;for(let t=0;t<this.items.length;t++)this.items[t].dataset.id===i.id&&(n=t);this.createOverlayElement(),this.setCurrentDom(n)}setCurrentDom(t){this.currentIndex=t,this.dom=this.items[t],this.createCoverElement(),this.hasNext()?document.getElementById("preview-next").style.display="block":document.getElementById("preview-next").style.display="none",this.hasPrev()?document.getElementById("preview-prev").style.display="block":document.getElementById("preview-prev").style.display="none"}getItems(t){return void 0===t?[this.dom]:t}getSrc(t){return t.src?t.src:t.dataset.src}getWindowSize(){return{windowHeight:window.innerHeight,windowWidth:window.innerWidth}}getPreviewBoxOffset(){return{left:100,right:100,top:10,bottom:10}}getImageResetRatio(t,e){const{left:i,top:n,right:s,bottom:o}=this.getPreviewBoxOffset(),{windowHeight:r,windowWidth:l}=this.getWindowSize(),a=r-n-o,d=l-i-s,h=d/t,c=a/e;return e<=a&&t<=d?{x:1,y:1}:h<c?{x:h,y:h}:{x:c,y:c}}getImagePosition(t=null){let e=t||this.dom;const i=e.getBoundingClientRect(),n=e.getAttribute("data-width"),s=e.getAttribute("data-height"),o=this.getPreviewBoxOffset(),r=this.getWindowSize(),l=this.getImageResetRatio(n,s),a=o.top+(r.windowHeight-o.top-o.bottom)/2,d=o.left+(r.windowWidth-o.left-o.right)/2-(i.left+i.width/2),h=a-(i.top+i.height/2),c=l.y*s/i.height;return{translateX:d,translateY:h,scaleX:l.x*n/i.width,scaleY:c,showHeight:l.y*s,showWidth:l.x*n}}setPreviewImageElementStyle(t=null){const e=t||document.getElementById("preview"),i=this.getSrc(this.dom);e.style="transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);transition-duration: 150ms;",e.style.backgroundImage=`url('${i}')`,e.style.backgroundSize="100% 100%",e.style.backgroundPosition="50%",e.style.backgroundRepeat="no-repeat",e.style.position="fixed",e.style.zIndex=99,e.style.opacity=1,e.style.transformOrigin="center center 0";const n=this.originRect,s=this.items[this.currentIndex].getBoundingClientRect();e.style.top=`${n.top}px`,e.style.left=`${n.left}px`,e.style.width=`${s.width}px`,e.style.height=`${s.height}px`}createCoverElement(){if(!document.getElementById("preview")){const t=document.createElement("div");t.setAttribute("id","preview"),document.body.append(t)}const t=document.getElementById("preview");this.setPreviewImageElementStyle(),this.init&&(this.dom.style.opacity=0),this.imageBoxElement=t;const e=this.getImagePosition();setTimeout((()=>{t.style.transform=`translate(${e.translateX}px, ${e.translateY}px) scale(${e.scaleX}, ${e.scaleY})`}))}createOverlayElement(){if(!document.getElementById(this.overlayId)){const t=document.createElement("div");t.setAttribute("id",this.overlayId),t.setAttribute("class","transition"),t.style=this.overlayStyle,document.getElementById("preview-next")||(t.innerHTML='\n              <div style="position:absolute; left:0; top:50%; color: #000; font-size: 24px; padding-left: 16px;" id="preview-prev"><i class="fa fa-arrow-left"></i></div>\n              <div style="position:absolute; right:0; top:50%; color: #000; font-size: 24px; padding-left: 16px;" id="preview-next"><i class="fa fa-arrow-right"></i></div>'),document.body.append(t),this.overlay=t}this.nextElement=document.getElementById("preview-next"),this.prevElement=document.getElementById("preview-prev"),this.nextElement.addEventListener("click",(t=>{t.stopPropagation(),this.next()})),this.prevElement.addEventListener("click",(t=>{t.stopPropagation(),this.prev()})),this.overlay.addEventListener("click",(()=>{this.close()}))}close(){this.overlay.style=this.overlayStyle+"display: none;",this.setClosedStyle(),this.overlay.removeEventListener("click",(()=>{})),this.overlay.remove()}setClosedStyle(){const t=this.imageBoxElement.getBoundingClientRect(),e=this.items[this.currentIndex].getBoundingClientRect(),i=document.defaultView.getComputedStyle(this.imageBoxElement).transform.replace("matrix(","").replace(")","").replace(" ","").split(","),n=i[4],s=i[5],o=i[0],r=i[3],l=e.top+e.height/2,a=t.top+e.height*r/2,d=e.left+e.width/2-(t.left+e.width*o/2)+parseFloat(n),h=l-a+parseFloat(s);this.imageBoxElement.style.transform=`translate(${d}px, ${h}px) scale(1, 1)`,this.initDom.style.opacity=1,setTimeout((()=>{this.imageBoxElement.style.zIndex=-999}),250)}next(){this.init=!1,this.originRect=this.items[this.currentIndex+1].getBoundingClientRect(),this.setPreviewImageElementStyle(),this.setCurrentDom(this.currentIndex+1)}prev(){this.init=!1,this.originRect=this.items[this.currentIndex-1].getBoundingClientRect(),this.setPreviewImageElementStyle(),this.setCurrentDom(this.currentIndex-1)}hasNext(){return this.hasItems&&this.currentIndex<this.items.length-1}hasPrev(){return this.hasItems&&this.currentIndex>0}}const m=()=>new c}},e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={exports:{}};return t[n](s,s.exports,i),s.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),window.ImagePreview=i(278).Z})();